<div class="container" ng-controller="BookController">
	<hr>
	<!-- form to create new book -->
	<h4>Add New Book</h4>
	<form ng-submit="createBook()">
		<div class="form-group">
			<input type="text" ng-model="newBook.title" class="form-control" placeholder="Title" autofocus>
		</div>
		<div class="form-group">
			<input type="text" ng-model="newBook.author" class="form-control" placeholder="Author">
		</div>
		<div class="form-group">
			<input type="text" ng-model="newBook.image" class="form-control" placeholder="Image">
		</div>
		<div class="form-group">
			<input type="text" ng-model="newBook.release_date" class="form-control" placeholder="Release Date">
		</div>
		<input type="submit" value="Save Book" class="btn btn-default">
	</form>
	<hr>

	<div ng-repeat="book in books">
		<div class="row">
			<div class="col-xs-4">
				<img ng-src="{{book.image}}" class="img-responsive">
			</div>
			<div class="col-xs-8">

				<!-- book content -->
				<div ng-hide="book.editForm">
					<h5><a ui-sref="books-show({id: book.id})">{{book.title}}</a></h5>
					<p><strong>Year:</strong> {{book.author}}</p>
					<p><strong>Release Date:</strong> {{book.release_date}}</p>

					<!-- edit/delete buttons -->
					<button ng-click="book.editForm = true" class="btn btn-default">Edit</button>
					<button ng-click="deleteBook(book)" class="btn btn-default">Delete</button>
				</div>

				<!-- form to edit book -->
				<form ng-show="book.editForm" ng-submit="updateBook(book)">
					<div class="form-group">
						<input type="text" ng-model="book.title" class="form-control" placeholder="Title">
					</div>
					<div class="form-group">
						<input type="text" ng-model="book.author" class="form-control" placeholder="Author">
					</div>
					<div class="form-group">
						<input type="text" ng-model="book.image" class="form-control" placeholder="Image">
					</div>
					<div class="form-group">
						<input type="text" ng-model="book.release_date" class="form-control" placeholder="Release Date">
					</div>
					<input type="submit" value="Save book" class="btn btn-default">
				</form>
			</div>
		</div>
		<hr>
	</div>
</div>
